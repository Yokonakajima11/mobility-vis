<!DOCTYPE html>
<html>
<head>
    <link href="css/style.css" rel="stylesheet" />
    <script src="lib/d3.v3/d3.v3.js"></script>
    <script src="lib/polymaps/polymaps.js"></script>
    <script src="lib/mobility-vis/mobility-datastore.js"></script>
    <script src="lib/mobility-vis/mobility-timeline.js"></script>
    <script src="lib/mobility-vis/mobility-map.js"></script>
    <script src="lib/mobility-vis/mobility-overlay.js"></script>
    <script src="lib/mobility-vis/mobility-gui.js"></script>
    <script src="lib/mobility-vis/mobility-tooltip.js"></script>
    <script src="lib/mobility-vis/mobility-point.js"></script>
    <script src="lib/jquery/jquery.min.js"></script>
    <script src="lib/jquery/jquery.cookie-1.4.1.min.js"></script>
    <script src="lib/clusterfck/clusterfck-0.1.js"></script>
    <script src="lib/jStorage/jstorage.min.js"></script>
    <script src="lib/angular/angular.min.js"></script>
    <script>
        var mmap;
        var CLIENT_ID = "4FFPRAEN5QDVQMSC4GUIOXWUV5HQ5G5JX00XDO1V0KH3MH1Y";

        var CLIENT_SECRET = "VXGOHMEKIVTMMDI4XHEX4JEUB5NHN1QBO5TSOMSIHHMNPYVR";
        

        $(document).ready(function () {
            po = org.polymaps;

            mdata = new mobility_datastore("data/newdata.csv");
            
           
            mmap = new mobility_map("vismap", 55.751849, 12.535186, mdata);
            moverlay = new mobility_overlay("vismap", mdata);
            moverlay.setMapRef(mmap);
            mmap.setOverlayRef(moverlay);

           // addEventListener("overlayClosed", function () { delete moverlay});
           
            $(window).resize(function () {
                    mmap.redraw();
                    moverlay.redraw();
            });
        })
    </script>
    <title>Visualizing Human Mobility</title>
</head>
<body>
    <div id="container">
        <div id="vismap"></div>
    </div>
</body>
</html>
